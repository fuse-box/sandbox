{"sourceMap":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"\"}","contents":"FuseBox.pkg(\"fuse-box-hot-reload\", {}, function(___scope___){\n___scope___.file(\"index.js\", function(exports, require, module){\nconst __req1__ = require(\"fuse-box-websocket\");\nfunction log(text) {\n  console.info(`%c${text}`, \"color: #237abe\");\n}\nfunction gatherSummary() {\n  const summary = {};\n  for (const packageName in FuseBox.packages) {\n    const files = FuseBox.packages[packageName].f;\n    summary[packageName] = [];\n    for (const fuseBoxPath in files) {\n      summary[packageName].push(fuseBoxPath);\n    }\n  }\n  return summary;\n}\nconst connect = opts => {\n  let client = new __req1__.SocketClient(opts);\n  client.connect();\n  client.on(\"get-summary\", data => {\n    const {id} = data;\n    const summary = gatherSummary();\n    client.send(\"summary\", {\n      id,\n      summary\n    });\n  });\n  client.on(\"hmr\", payload => {\n    let styleSheetUpdate = false;\n    if (FuseBox.reloadEntryOnStylesheet && payload.modules.length === 1 && payload.modules[0].isStylesheet) {\n      styleSheetUpdate = payload.modules[0];\n    }\n    payload.modules.forEach(item => {\n      new Function(item.content)();\n      log(`✔ module hmr: ${item.fuseBoxPath}`);\n    });\n    payload.packages.forEach(item => {\n      new Function(item.content)();\n      log(`✔ package hmr: ${item.name}`);\n    });\n    if (styleSheetUpdate) {\n      log(`✔ css reload of: ${styleSheetUpdate.fuseBoxPath}`);\n      FuseBox.flush(file => `default/${file}` === styleSheetUpdate.fuseBoxPath);\n      FuseBox.import(styleSheetUpdate.fuseBoxPath);\n    } else {\n      log(`✔ entry reload of: ${FuseBox.mainFile}`);\n      FuseBox.flush();\n      FuseBox.import(FuseBox.mainFile);\n    }\n  });\n};\nexports.connect = connect;\n\n});\n\t___scope___.entry = \"index.js\";\n})"}